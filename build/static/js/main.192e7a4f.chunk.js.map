{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newPerson","post","id","delete","put","Filter","filterValue","handleFilterValueChange","value","onChange","PersonForm","addPerson","newName","handleNewNameChange","newNumber","handleNewNumberChange","onSubmit","type","Person","person","deletePerson","name","number","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterValue","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","returnedPersons","personToDelete","window","confirm","filter","personsToShow","toLowerCase","includes","className","event","target","preventDefault","personToAdd","returnedPerson","map","catch","error","p","setTimeout","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.192e7a4f.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst req = axios.get(baseUrl)\n\treturn req.then(res => res.data)\n}\n\nconst create = newPerson => {\n\tconst req = axios.post(baseUrl, newPerson)\n\treturn req.then(res => res.data)\n}\n\nconst remove = id => {\n\tconst req = axios.delete(`${baseUrl}/${id}`)\n\treturn req.then(res => res.data)\n}\n\nconst update = (id, newPerson) => {\n\tconst req = axios.put(`${baseUrl}/${id}`, newPerson)\n\treturn req.then(res => res.data)\n}\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default { getAll, create, remove, update }\n","import React from 'react'\n\nconst Filter = ({ filterValue, handleFilterValueChange }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={filterValue} onChange={handleFilterValueChange} />\t\n\t\t</div>\n\t)\n}\n\nexport default Filter \n","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNewNameChange, newNumber, handleNewNumberChange }) => {\n\treturn (\n\t\t<form onSubmit={addPerson}>\n\t\t\t<div>\n\t\t\t\tname: <input value={newName} onChange={handleNewNameChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNewNumberChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm \n","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n\treturn (\n\t\t<li>\n\t\t\t{person.name} {person.number} {' '}\n\t\t\t<button onClick={() => deletePerson(person)}>delete</button>\n\t\t</li>\n\t)\n}\n\nexport default Person \n","import React from 'react'\n\nconst Notification = ({ message }) => {\n\tconst notificationStyle = {\n\t\tcolor: 'green',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (!message) return null\n\n\treturn (\n\t\t<div style={notificationStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification \n","import React from 'react'\n\nconst Error = ({ message }) => {\n\tconst errorStyle = {\n\t\tcolor: 'red',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (!message) return null\n\n\treturn (\n\t\t<div style={errorStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Error \n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n\t// declare state\n\tconst [ persons, setPersons ] = useState([]) \n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ filterValue, setFilterValue ] = useState('')\n\tconst [ notificationMessage, setNotificationMessage] = useState(null)\n\tconst [ errorMessage, setErrorMessage] = useState(null)\n\n\t// fetch data from server\n\tuseEffect(() => {\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(returnedPersons => setPersons(returnedPersons))\n\t}, [])\n\n\t// form state event handlers\n\tconst handleNewNameChange = event => setNewName(event.target.value)\n\tconst handleNewNumberChange = event => setNewNumber(event.target.value)\n\tconst handleFilterValueChange = event => setFilterValue(event.target.value)\n\n\t// create entry\n\tconst addPerson = event => {\n\t\tevent.preventDefault()\n\n\t\tconst personToAdd = { \n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\n\t\tfor (const person of persons) {\n\t\t\tif (person.name.toLowerCase() === newName.toLowerCase()) {\n\t\t\t\tif (window.confirm(`${newName} has already been added to the phonebook, replace the older number with a new one?`))\n\t\t\t\t\tpersonService\n\t\t\t\t\t\t.update(person.id, personToAdd)\n\t\t\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\t\t\tsetPersons(persons.map(\n\t\t\t\t\t\t\t\tperson => person.id === returnedPerson.id ? returnedPerson : person\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\tsetNotificationMessage(`Updated ${returnedPerson.name}`)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tsetErrorMessage(`Information of ${person.name} has already been removed from server`)\n\t\t\t\t\t\t\tsetPersons(persons.filter(p => p.id !== person.id))\n\t\t\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t\tsetTimeout(() => setNotificationMessage(null), 5000)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tpersonService\n\t\t\t.create(personToAdd)\n\t\t\t.then(returnedPerson => {\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\tsetNotificationMessage(`Added ${returnedPerson.name}`)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tsetTimeout(() => setNotificationMessage(null), 5000)\n\t\t\t})\n\t}\n\n\t// delete entry\n\tconst deletePerson = personToDelete => {\n\t\tif (window.confirm(`Delete ${personToDelete.name} ?`))\n\t\t\tpersonService\n\t\t\t\t.remove(personToDelete.id)\n\t\t\t\t.then(setPersons(persons.filter(person => person.id !== personToDelete.id)))\n\t}\n\n\t// filter persons to show\n\tconst personsToShow = persons.filter(person => \n\t\tperson.name.toLowerCase().includes(filterValue.toLowerCase())\n\t)\n\n\t// render\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<div>\n\t\t\t\t<h2>Phonebook</h2>\n\t\t\t\t<Notification message={notificationMessage} />\n\t\t\t\t<Error message={errorMessage} />\n\t\t\t\t<Filter \n\t\t\t\t\tfilterValue={filterValue}\n\t\t\t\t\thandleFilterValueChange={handleFilterValueChange}\n\t\t\t\t/>\n\t\t\t\t<h2>Add a new</h2>\n\t\t\t\t<PersonForm \n\t\t\t\t\taddPerson={addPerson}\n\t\t\t\t\tnewName={newName}\n\t\t\t\t\thandleNewNameChange={handleNewNameChange}\n\t\t\t\t\tnewNumber={newNumber}\n\t\t\t\t\thandleNewNumberChange={handleNewNumberChange} \n\t\t\t\t/>\n\t\t\t\t<h2>Numbers</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{personsToShow.map(person => \n\t\t\t\t\t\t<Person key={person.id} person={person} deletePerson={deletePerson} />\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}